<!-- The input -->
<input
  #inputRef
  [attr.id]="id()"
  [attr.type]="type()"
  [attr.placeholder]="placeholder()"
  [attr.aria-invalid]="withErrorId() !== null ? 'true' : 'false'"
  [attr.aria-errormessage]="withErrorId()"
  [attr.autocomplete]="autocomplete()"
  [disabled]="isDisabled()"
  class="_input"
  (change)="onInputChange($event)"
  (input)="onInput($event)"
  (blur)="onBlur()"
>

<!-- Icons -->
<div class="_icons">

  <!-- Clearable icon -->
  @if (clearable()) {
    <button
      appButton="ghost"
      type="button"
      isCircle
      withIconOnly
      size="extra-small"
      (click)="onClearInput()"
    >
      &times;
    </button>
  }

  <!-- Status icon -->
  @if (withStatusIcon() && status()) {
    @switch (status()) {
      @case ('success') {
        <mat-icon width="1rem" class="_status-icon">check</mat-icon>
      }
      @case ('error') {
        <mat-icon width="1rem" class="_status-icon">clear</mat-icon>
      }
    }
  }
</div>
